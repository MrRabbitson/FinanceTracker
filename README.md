# Финансовый Трекер

Веб-приложение на Flask для учета доходов и расходов, постановки финансовых целей, просмотра аналитики и получения персональных советов от ИИ.

## Требования

- Windows 10/11.
- Python 3.12+
- pip входит в поставку Python для Windows.

Проверьте версии:
```cmd
python --version
pip --version
```
##
Демонстрация проекта: https://finance-tracker.ru

## Установка и запуск (Windows, CMD)

1. **Скачайте проект**
   - Склонируйте репозиторий (если установлен git): `git clone https://github.com/MrRabbitson/FinanceTracker.git <имя папки>`
   - Или скачайте папку с проектом на диск, например `C:\projects\finance-tracker`.

2. **Установите зависимости**
   ```cmd
   pip install -r requirements.txt
   ```

3. **Настройте `config.json`**
   См. раздел «Настройки». Укажите ключи для ИИ и email, если требуется отправка писем с подтверждением.

4. **Запустите приложение**
   ```cmd
   python main.py
   ```
   По умолчанию сервер поднимется на `http://127.0.0.1:5000`. Параметры хоста и порта меняются в `config.json`.

5. **Работа в приложении**
   - Перейдите в браузере по адресу из предыдущего шага.
   - Зарегистрируйтесь, подтвердите email (если отправка писем включена) и начните вести учет.

## Настройки (`config.json`)
```json
{
  "main": {
    "host": "0.0.0.0",
    "port": 5000,
    "ssl_enabled": false,
    "ssl_cert": "",
    "ssl_key": ""
  },
  "ai": {
    "enabled": true,
    "model": "openai/gpt-oss-20b",
    "hf_api_token": "ваш_токен_HuggingFace"
  },
  "email": {
    "sender_email": "ваш_email@gmail.com",
    "sender_password": "пароль_приложения"
  },
  "secret_key": "случайная_строка"
}
```
- `main`: сетевые параметры и SSL. Если `ssl_enabled=true`, укажите пути к сертификату и ключу.
- `ai`: конфигурация Hugging Face. Нужен действующий `hf_api_token` с доступом к выбранной модели. Получить токен: [клик](https://huggingface.co/settings/tokens)
- `email`: учетные данные почты для отправки кодов подтверждения (используйте пароль приложения Gmail). Получить: [клик](https://myaccount.google.com/apppasswords/)
- `secret_key`: любая случайная строка для подписи сессий Flask.

## Учётные данные
Тестовые данные (аккаунты-пустышки; можно удалить, очистив БД: /instance/finance_tracker.db):
| Эл.Почта | Пароль |
|-------------|-------------|
| 0.0financetracker@gmail.com    | testpassword    |
| testuser@finance-tracker.ru    | qwerty123    |

## Краткое описание структуры

- `main.py` / `app.py` — точка входа и маршруты Flask.
- `ai_module.py` — работа с моделью Hugging Face.
- `templates/` — HTML-шаблоны (Jinja2).
- `static/` — CSS, изображения, статические ассеты.
- `instance/finance_tracker.db` — база SQLite (создается автоматически).
- `config.json` — настройки проекта.
- `requirements.txt` — список зависимостей.

## Дополнительно

- БД создается автоматически при первом запуске.
- В продакшене отключите `debug` и храните секреты безопасно.
- При проблемах с отправкой почты убедитесь, что Gmail разрешает SMTP (пароль приложения). 
- Если ИИ не отвечает, проверьте токен HF и сетевой доступ к `huggingface.co` (возможно, у вас закончился бесплатный период)
